<!DOCTYPE html>
<html>
  <body>
    <table id="municipalities-table">
      <thead>
        <tr>
          <th>Municipality</th>
          <th>Population</th>
        </tr>
      </thead>
      <tbody>
        <script>
          fetch(
            "https://statfin.stat.fi/PxWeb/sq/4e244893-7761-4c4f-8e55-7a8d41d86eff"
          )
            .then((response) => response.json())
            .then((data) => {
              const municipalities = data.dataset.dimension.Alue.category.label;
              const populations = data.dataset.value;
              for (let i = 0; i < municipalities.length; i++) {
                let row = document.createElement("tr");
                let municipalityCell = document.createElement("td");
                let populationCell = document.createElement("td");
                municipalityCell.textContent = municipalities[i];
                populationCell.textContent = populations[i];
                row.appendChild(municipalityCell);
                row.appendChild(populationCell);
                document
                  .querySelector("#municipalities-table tbody")
                  .appendChild(row);
              }
            })
            .catch((error) => console.log(error));
        </script>
      </tbody>
    </table>
  </body>
</html>
